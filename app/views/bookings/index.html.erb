<div class="container">
  <ul class="nav list-inline tabs-underlined" id="myTab" role="tablist">
    <li role="presentation">
      <a class="nav-link tab-underlined active" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="true">Profile</a>
    </li>
    <li role="presentation">
      <a class="nav-link tab-underlined" id="bookings-tab" data-toggle="tab" href="#bookings" role="tab" aria-controls="bookings" aria-selected="false">Bookings</a>
    </li>
    <li role="presentation">
      <a class="nav-link tab-underlined" id="vans-tab" data-toggle="tab" href="#vans" role="tab" aria-controls="vans" aria-selected="false">Listings</a>
    </li>
  </ul>

  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="profile-tab">
      <div class="container">
        <div class="row">
          <div class="col-6">
            <p>First name: <%= current_user.first_name %></p>
            <p>Last name: <%= current_user.last_name %></p>
            <p>Email address: <%= current_user.email %></p>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="bookings" role="tabpanel" aria-labelledby="bookings-tab">
      <div class="container">
        <div class="row">
          <div class="col-6">
              <% @bookings.each do |booking| %>
                <%= link_to campervan_path(booking.campervan) do %>
                <div class="card-product mt-4">
                  <% if booking.campervan.photo.attached? %>
                    <%= cl_image_tag booking.campervan.photo.key, height: 100, width: 150, crop: :fill %>
                  <% else %>
                    <%= image_tag("https://i.pinimg.com/originals/65/b1/3f/65b13f6ab12de47cfcdefb32b2d67387.jpg", alt:"image", height: "auto", width: 100, crop: :fill) %>
                  <% end %>
                  <div class="card-product-infos">
                    <h2> <%= booking.campervan.title %> </h2>
                    <p>Pick-up: <%= booking.start_date %></p>
                    <p>Drop-off: <%= booking.end_date %></p>
                    <p><strong>Total Price: <%= booking.total_price %> €</strong></p>
                  </div>
                </div>
                <% end %>
              <% end %>
          </div>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="vans" role="tabpanel" aria-labelledby="vans-tab">
      <div class="container">
        <div class="row">
          <div class="col-6">
            <h1>My Vans</h1>

            <ul>
              <% @user_vans.each do |user_van| %>
                    <li>
                      <%= link_to user_van.title %>
                      <%= user_van.user.first_name %>
                      • <%= link_to campervan_path(user_van), method: :delete, data: {confirm: "Delete #{user_van.title}?"} do %>
                    <i class="fas fa-trash-alt"></i>
                    <% end %>
                    </li>
              <% end %>
            </ul>


            <h1>My Van Bookings</h1>

            <ul>
              <% @van_bookings.each do |van_booking| %>
                    <li>
                      <%= link_to van_booking.campervan.title, campervan_path(van_booking.campervan)  %>
                      <% if van_booking.campervan.photo.attached? %>
                        <%= cl_image_tag van_booking.campervan.photo.key, height: 300, width: 400, crop: :fill %>
                      <% else %>
                        There is no photo yet!
                        <%= image_tag("https://source.unsplash.com/random", alt:"image", height: 300, width: 400, crop: :fill) %>
                      <% end %>
                      <p>Pick-up date: <%= van_booking.start_date %></p>
                      <p>Drop-off date: <%= van_booking.end_date %></p>
                      <p>Total Price: <%= van_booking.total_price %></p>
                    </li>
              <% end %>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

